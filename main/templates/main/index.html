<html>
    <head>
        <meta charset="utf-8">
        <title>Датчики</title>
        <!--Load the AJAX API-->
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            google.charts.load('current', {'packages':['line', 'corechart']});
            google.charts.setOnLoadCallback(drawChart);

            // Load the Visualization API and the corechart package.
            google.charts.load('current', {'packages':['corechart']});

            // Set a callback to run when the Google Visualization API is loaded.
            google.charts.setOnLoadCallback(drawChart);

            // Callback that creates and populates a data table,
            // instantiates the pie chart, passes in the data and
            // draws it.
            function drawChart() {

                var chartDiv = document.getElementById('chart_div');

                var data = new google.visualization.DataTable();
                data.addColumn('date', 'Date');
                data.addColumn('number', 'Temperature');
                data.addColumn('number', 'Humidity');
                data.addRows([
                    {% for value in values_list %}
                        [new Date(Date.parse("{{ value.date }}")), {{ value.temp }}, {{ value.hum }}],
                    {% endfor %}
                ]);

                var materialOptions = {
                    chart: {
                      title: 'Температура и влажность за последние сутки'
                    },
                    width: 900,
                    height: 500,
                    series: {
                        // Gives each series an axis name that matches the Y-axis below.
                        0: {axis: 'Temp'},
                        1: {axis: 'Hum'}
                    },
                    axes: {
                        // Adds labels to each axis; they don't have to match the axis names.
                        y: {
                            Temp: {label: 'Температура'},
                            Hum: {label: 'Влажность'}
                        }
                    }
                }
                function drawMaterialChart() {
                    var materialChart = new google.charts.Line(chartDiv);
                    materialChart.draw(data, materialOptions);
                    button.innerText = 'Change to Classic';
                    button.onclick = drawClassicChart;
                }
                drawMaterialChart();
            // Instantiate and draw our chart, passing in some options.
            var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
            chart.draw(data, options);
            };

        </script>

    </head> 
    <body>
        <!--Div that will hold the pie chart-->
        <div id= "chart_div"></div>
    </body>
</html>